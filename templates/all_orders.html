        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2><i class="fas fa-list me-2"></i>ุฌููุน ุงูุทูุจุงุช</h2>
            <div>
                <a href="/suspended" class="btn btn-warning btn-lg">
                    <i class="fas fa-clock me-2"></i>
                    ูุดู ุงููุนููุงุช
                </a>
            </div>
        </div>

        <!-- Filter Section -->
        <div class="card mb-4">
            <div class="card-header">
                <h6 class="card-title mb-0">
                    <i class="fas fa-filter me-2"></i>
                    ููุชุฑุฉ ุงูุจูุงูุงุช
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        <label class="form-label">ุงูุจุญุซ ูู ุงููุต:</label>
                        <input type="text" class="form-control" id="searchInput" placeholder="ุงุจุญุซ ูู ุฃู ุญูู...">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">ุงูุญุงูุฉ:</label>
                        <select class="form-select" id="statusFilter">
                            <option value="">ุฌููุน ุงูุญุงูุงุช</option>
                            <option value="ููุฏ ุงูุชูููุฐ">ููุฏ ุงูุชูููุฐ</option>
                            <option value="ุชู ุงูุชุณููู">ุชู ุงูุชุณููู</option>
                            <option value="ูุคุฌู">ูุคุฌู</option>
                            <option value="ุฑูุถ">ุฑูุถ</option>
                            <option value="ุฑุงุฌุน ูุฎุฒู">ุฑุงุฌุน ูุฎุฒู</option>
                            <option value="ุชู ูุญุงุณุจุฉ ุงูููุฏูุจ">ุชู ูุญุงุณุจุฉ ุงูููุฏูุจ</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">ุงููุฏููุฉ:</label>
                        <select class="form-select" id="cityFilter">
                            <option value="">ุฌููุน ุงููุฏู</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">ุงููุจูุบ:</label>
                        <select class="form-select" id="amountFilter">
                            <option value="">ุฌููุน ุงููุจุงูุบ</option>
                            <option value="0-10000">ุฃูู ูู 10,000</option>
                            <option value="10000-50000">10,000 - 50,000</option>
                            <option value="50000-100000">50,000 - 100,000</option>
                            <option value="100000+">ุฃูุซุฑ ูู 100,000</option>
                        </select>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12">
                        <button class="btn btn-secondary" onclick="clearFilters()">
                            <i class="fas fa-times me-1"></i>
                            ูุณุญ ุงูููุงุชุฑ
                        </button>
                        <button class="btn btn-info" onclick="exportFilteredData()">
                            <i class="fas fa-download me-1"></i>
                            ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููููุชุฑุฉ
                        </button>
                    </div>
                </div>
            </div>
        </div> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function copyOrderInfo(event, waslNumber, customerName, amount, status, phone, city, area) {
            const orderInfo = `๐งพ ุฑูู ุงููุตู: ${waslNumber}
๐ด ูุงุชู ุงูุฒุจูู: ${phone || 'ุบูุฑ ูุญุฏุฏ'}
๐ข ุงููุญุงูุธุฉ: ${city || 'ุบูุฑ ูุญุฏุฏ'}
๐ข ุงูููุทูุฉ: ${area || 'ุบูุฑ ูุญุฏุฏ'}
๐ด ุงูุณุนุฑ: ${amount}
๐ ุงุณู ุงูุนููู: ${customerName}
๐ ุงูุญุงูุฉ: ${status}`;
            
            navigator.clipboard.writeText(orderInfo).then(function() {
                // ุฅุธูุงุฑ ุฑุณุงูุฉ ูุฌุงุญ
                const button = event.target.closest('button');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check me-1"></i> ุชู ุงููุณุฎ';
                button.className = 'btn btn-success btn-sm me-1';
                
                setTimeout(function() {
                    button.innerHTML = originalText;
                    button.className = 'btn btn-info btn-sm me-1';
                }, 2000);
            }).catch(function(err) {
                console.error('ุฎุทุฃ ูู ุงููุณุฎ: ', err);
                alert('ุฎุทุฃ ูู ูุณุฎ ุงููุนูููุงุช');
            });
        }
        
        // ุฏุงูุฉ ุงูููุชุฑุฉ
        function filterData() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const statusFilter = document.getElementById('statusFilter').value;
            const cityFilter = document.getElementById('cityFilter').value;
            const amountFilter = document.getElementById('amountFilter').value;
            
            const rows = document.querySelectorAll('tbody tr');
            
            rows.forEach(row => {
                let show = true;
                
                // ููุชุฑุฉ ุงููุต
                if (searchTerm) {
                    const text = row.textContent.toLowerCase();
                    if (!text.includes(searchTerm)) {
                        show = false;
                    }
                }
                
                // ููุชุฑุฉ ุงูุญุงูุฉ
                if (statusFilter && show) {
                    const status = row.querySelector('.badge')?.textContent.trim();
                    if (status !== statusFilter) {
                        show = false;
                    }
                }
                
                // ููุชุฑุฉ ุงููุฏููุฉ
                if (cityFilter && show) {
                    const city = row.querySelector('td:nth-child(8)')?.textContent.trim();
                    if (city !== cityFilter) {
                        show = false;
                    }
                }
                
                // ููุชุฑุฉ ุงููุจูุบ
                if (amountFilter && show) {
                    const amountText = row.querySelector('.amount-display')?.textContent;
                    const amount = parseFloat(amountText?.replace(/[^\d]/g, '') || '0');
                    
                    switch(amountFilter) {
                        case '0-10000':
                            if (amount >= 10000) show = false;
                            break;
                        case '10000-50000':
                            if (amount < 10000 || amount >= 50000) show = false;
                            break;
                        case '50000-100000':
                            if (amount < 50000 || amount >= 100000) show = false;
                            break;
                        case '100000+':
                            if (amount < 100000) show = false;
                            break;
                    }
                }
                
                row.style.display = show ? '' : 'none';
            });
        }
        
        // ูุณุญ ุงูููุงุชุฑ
        function clearFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('cityFilter').value = '';
            document.getElementById('amountFilter').value = '';
            
            const rows = document.querySelectorAll('tbody tr');
            rows.forEach(row => {
                row.style.display = '';
            });
        }
        
        // ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููููุชุฑุฉ
        function exportFilteredData() {
            const visibleRows = Array.from(document.querySelectorAll('tbody tr')).filter(row => 
                row.style.display !== 'none'
            );
            
            let csv = 'ุฑูู ุงููุตู,ุฑูู ุงูุทูุจ,ุงูุนููู,ุงููุจูุบ,ุงูุญุงูุฉ,ุงูุชุงุฑูุฎ,ุงููุฏููุฉ\n';
            
            visibleRows.forEach(row => {
                const cells = row.querySelectorAll('td');
                const rowData = [
                    cells[1]?.textContent.trim(),
                    cells[2]?.textContent.trim(),
                    cells[3]?.textContent.trim(),
                    cells[4]?.textContent.trim(),
                    cells[5]?.querySelector('.badge')?.textContent.trim(),
                    cells[6]?.textContent.trim(),
                    cells[7]?.textContent.trim()
                ];
                csv += rowData.join(',') + '\n';
            });
            
            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'ุฌููุน_ุงูุทูุจุงุช_ุงููููุชุฑุฉ.csv';
            link.click();
        }
        
        // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('searchInput').addEventListener('input', filterData);
            document.getElementById('statusFilter').addEventListener('change', filterData);
            document.getElementById('cityFilter').addEventListener('change', filterData);
            document.getElementById('amountFilter').addEventListener('change', filterData);
            
            // ููุก ูุงุฆูุฉ ุงููุฏู
            const cities = new Set();
            document.querySelectorAll('tbody tr td:nth-child(8)').forEach(cell => {
                const city = cell.textContent.trim();
                if (city) cities.add(city);
            });
            
            const citySelect = document.getElementById('cityFilter');
            cities.forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                citySelect.appendChild(option);
            });
        });
    </script> 